{
  "Comment": "AWS Secrets Manager secret structure for each client",
  "SecretName": "n8n/clients/{client_id}",
  "Description": "API credentials for {client_name} n8n workflows",
  "SecretStructure": {
    "reply_api_key": "client-specific-reply-api-key",
    "clickup_api_key": "client-specific-clickup-api-key",
    "clickup_workspace_id": "client-clickup-workspace-id",
    "reply_workspace_id": "client-reply-workspace-id"
  },
  "IAMPolicy": {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "N8NAccessClientSecrets",
        "Effect": "Allow",
        "Action": [
          "secretsmanager:GetSecretValue",
          "secretsmanager:DescribeSecret"
        ],
        "Resource": "arn:aws:secretsmanager:*:*:secret:n8n/clients/*"
      },
      {
        "Sid": "N8NListSecrets",
        "Effect": "Allow",
        "Action": [
          "secretsmanager:ListSecrets"
        ],
        "Resource": "*"
      }
    ]
  },
  "ExampleCliCommands": {
    "create_secret": "aws secretsmanager create-secret --name n8n/clients/acme-corp --secret-string '{\"reply_api_key\":\"xxx\",\"clickup_api_key\":\"yyy\"}'",
    "update_secret": "aws secretsmanager update-secret --secret-id n8n/clients/acme-corp --secret-string '{\"reply_api_key\":\"new-xxx\",\"clickup_api_key\":\"new-yyy\"}'",
    "get_secret": "aws secretsmanager get-secret-value --secret-id n8n/clients/acme-corp"
  }
}
